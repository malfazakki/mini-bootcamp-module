# Sesi 3: Mini Project - Expense Tracker

## ğŸ¯ Deskripsi Project

Kita akan membuat aplikasi **Expense Tracker** (Pencatat Pengeluaran) yang lengkap dan interaktif. Ini adalah project yang menggabungkan SEMUA yang sudah kita pelajari di Hari 1 dan 2!

**ğŸ¨ Fitur yang Akan Dibuat:**
1. âœ… Tambah pengeluaran baru (Nama & Jumlah)
2. âœ… Tampilkan daftar semua pengeluaran
3. âœ… Hitung total pengeluaran otomatis
4. âœ… Edit pengeluaran yang sudah ada
5. âœ… Hapus pengeluaran
6. âœ… Filter berdasarkan kategori
7. âœ… Simpan data ke Local Storage (data tidak hilang setelah refresh)
8. âœ… Responsive design (bagus di mobile & desktop)
9. âœ… Validasi form

---

## ğŸ—‚ï¸ Struktur File

```
expense-tracker/
â”‚
â”œâ”€â”€ index.html
â”œâ”€â”€ style.css
â””â”€â”€ script.js
```

---

## ğŸ“„ File 1: index.html

```html
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’° Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ğŸ’° Expense Tracker</h1>
            <p class="subtitle">Kelola pengeluaran Anda dengan mudah</p>
        </header>

        <!-- Summary Cards -->
        <div class="summary">
            <div class="summary-card">
                <div class="summary-label">Total Pengeluaran</div>
                <div class="summary-value" id="totalAmount">Rp 0</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Jumlah Item</div>
                <div class="summary-value" id="totalItems">0</div>
            </div>
        </div>

        <!-- Form Input -->
        <div class="form-container">
            <h2>Tambah Pengeluaran</h2>
            <form id="expenseForm">
                <div class="form-group">
                    <label for="expenseName">Nama Pengeluaran *</label>
                    <input 
                        type="text" 
                        id="expenseName" 
                        placeholder="Misal: Makan siang"
                        required
                    >
                    <span class="error" id="nameError"></span>
                </div>

                <div class="form-group">
                    <label for="expenseAmount">Jumlah (Rp) *</label>
                    <input 
                        type="number" 
                        id="expenseAmount" 
                        placeholder="50000"
                        min="1"
                        required
                    >
                    <span class="error" id="amountError"></span>
                </div>

                <div class="form-group">
                    <label for="expenseCategory">Kategori</label>
                    <select id="expenseCategory">
                        <option value="Makanan">ğŸ” Makanan</option>
                        <option value="Transport">ğŸš— Transport</option>
                        <option value="Belanja">ğŸ›’ Belanja</option>
                        <option value="Hiburan">ğŸ® Hiburan</option>
                        <option value="Tagihan">ğŸ’¸ Tagihan</option>
                        <option value="Lainnya">ğŸ“¦ Lainnya</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="expenseDate">Tanggal</label>
                    <input type="date" id="expenseDate">
                </div>

                <button type="submit" class="btn btn-primary">
                    <span id="btnText">â• Tambah Pengeluaran</span>
                </button>
            </form>
        </div>

        <!-- Filter -->
        <div class="filter-container">
            <label>Filter Kategori:</label>
            <select id="filterCategory">
                <option value="Semua">Semua Kategori</option>
                <option value="Makanan">ğŸ” Makanan</option>
                <option value="Transport">ğŸš— Transport</option>
                <option value="Belanja">ğŸ›’ Belanja</option>
                <option value="Hiburan">ğŸ® Hiburan</option>
                <option value="Tagihan">ğŸ’¸ Tagihan</option>
                <option value="Lainnya">ğŸ“¦ Lainnya</option>
            </select>
            <button class="btn btn-danger" id="clearAllBtn">ğŸ—‘ï¸ Hapus Semua</button>
        </div>

        <!-- Expense List -->
        <div class="expense-list-container">
            <h2>Daftar Pengeluaran</h2>
            <div id="expenseList"></div>
            <div id="emptyState" class="empty-state">
                <p>ğŸ“ Belum ada pengeluaran</p>
                <p class="empty-subtitle">Mulai tambahkan pengeluaran Anda!</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
```

---

## ğŸ¨ File 2: style.css

```css
/* ========== RESET & GENERAL ========== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 800px;
    margin: 0 auto;
}

/* ========== HEADER ========== */
header {
    text-align: center;
    color: white;
    margin-bottom: 30px;
}

header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

.subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
}

/* ========== SUMMARY CARDS ========== */
.summary {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.summary-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.summary-label {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.summary-value {
    font-size: 2rem;
    font-weight: bold;
    color: #667eea;
}

/* ========== FORM ========== */
.form-container {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}

.form-container h2 {
    margin-bottom: 20px;
    color: #333;
}

.form-group {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 5px;
    color: #333;
    font-weight: 500;
}

input, select {
    width: 100%;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
}

input:focus, select:focus {
    outline: none;
    border-color: #667eea;
}

.error {
    color: #e74c3c;
    font-size: 14px;
    margin-top: 5px;
    display: block;
}

/* ========== BUTTONS ========== */
.btn {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-primary {
    background: #667eea;
    color: white;
    width: 100%;
}

.btn-primary:hover {
    background: #5568d3;
    transform: translateY(-2px);
}

.btn-danger {
    background: #e74c3c;
    color: white;
}

.btn-danger:hover {
    background: #c0392b;
}

.btn-edit {
    background: #f39c12;
    color: white;
    padding: 6px 12px;
    font-size: 14px;
}

.btn-delete {
    background: #e74c3c;
    color: white;
    padding: 6px 12px;
    font-size: 14px;
}

/* ========== FILTER ========== */
.filter-container {
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    display: flex;
    gap: 15px;
    align-items: center;
}

.filter-container label {
    margin: 0;
    white-space: nowrap;
}

.filter-container select {
    flex: 1;
}

/* ========== EXPENSE LIST ========== */
.expense-list-container {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.expense-list-container h2 {
    margin-bottom: 20px;
    color: #333;
}

.expense-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: transform 0.2s;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.expense-item:hover {
    transform: translateX(5px);
}

.expense-info {
    flex: 1;
}

.expense-name {
    font-weight: bold;
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 5px;
}

.expense-details {
    font-size: 0.9rem;
    color: #666;
}

.expense-category {
    display: inline-block;
    background: #667eea;
    color: white;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.85rem;
    margin-right: 10px;
}

.expense-amount {
    font-size: 1.3rem;
    font-weight: bold;
    color: #e74c3c;
    margin-right: 15px;
}

.expense-actions {
    display: flex;
    gap: 10px;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #999;
}

.empty-state p {
    font-size: 1.2rem;
    margin-bottom: 5px;
}

.empty-subtitle {
    font-size: 1rem;
}

.hidden {
    display: none;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }

    .summary {
        grid-template-columns: 1fr;
    }

    .filter-container {
        flex-direction: column;
        align-items: stretch;
    }

    .filter-container label {
        margin-bottom: 5px;
    }

    .expense-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .expense-amount {
        margin: 0;
    }

    .expense-actions {
        width: 100%;
    }

    .expense-actions button {
        flex: 1;
    }
}
```

---

## âš™ï¸ File 3: script.js

```javascript
// ========== VARIABLES ==========
const expenseForm = document.getElementById('expenseForm');
const expenseNameInput = document.getElementById('expenseName');
const expenseAmountInput = document.getElementById('expenseAmount');
const expenseCategoryInput = document.getElementById('expenseCategory');
const expenseDateInput = document.getElementById('expenseDate');
const expenseList = document.getElementById('expenseList');
const emptyState = document.getElementById('emptyState');
const totalAmountEl = document.getElementById('totalAmount');
const totalItemsEl = document.getElementById('totalItems');
const filterCategory = document.getElementById('filterCategory');
const clearAllBtn = document.getElementById('clearAllBtn');
const btnText = document.getElementById('btnText');

let expenses = [];
let editingId = null;

// ========== INIT ==========
// Set default date to today
expenseDateInput.valueAsDate = new Date();

// Load data from localStorage
loadFromLocalStorage();
renderExpenses();
updateSummary();

// ========== EVENT LISTENERS ==========
expenseForm.addEventListener('submit', handleSubmit);
filterCategory.addEventListener('change', renderExpenses);
clearAllBtn.addEventListener('click', clearAllExpenses);

// ========== FUNCTIONS ==========

function handleSubmit(e) {
    e.preventDefault();
    
    // Clear errors
    document.getElementById('nameError').textContent = '';
    document.getElementById('amountError').textContent = '';
    
    // Validasi
    if (!validateForm()) {
        return;
    }
    
    // Get values
    const name = expenseNameInput.value.trim();
    const amount = parseInt(expenseAmountInput.value);
    const category = expenseCategoryInput.value;
    const date = expenseDateInput.value;
    
    if (editingId !== null) {
        // Update existing expense
        const index = expenses.findIndex(exp => exp.id === editingId);
        expenses[index] = {
            id: editingId,
            name,
            amount,
            category,
            date
        };
        editingId = null;
        btnText.textContent = 'â• Tambah Pengeluaran';
    } else {
        // Add new expense
        const newExpense = {
            id: Date.now(),
            name,
            amount,
            category,
            date
        };
        expenses.push(newExpense);
    }
    
    // Save, render, update
    saveToLocalStorage();
    renderExpenses();
    updateSummary();
    
    // Reset form
    expenseForm.reset();
    expenseDateInput.valueAsDate = new Date();
    expenseNameInput.focus();
}

function validateForm() {
    let isValid = true;
    
    const name = expenseNameInput.value.trim();
    const amount = expenseAmountInput.value;
    
    if (name === '' || name.length < 3) {
        document.getElementById('nameError').textContent = 'Nama minimal 3 karakter';
        isValid = false;
    }
    
    if (amount === '' || amount < 1) {
        document.getElementById('amountError').textContent = 'Jumlah harus lebih dari 0';
        isValid = false;
    }
    
    return isValid;
}

function renderExpenses() {
    const filter = filterCategory.value;
    
    // Filter expenses
    const filteredExpenses = filter === 'Semua' 
        ? expenses 
        : expenses.filter(exp => exp.category === filter);
    
    // Sort by date (newest first)
    filteredExpenses.sort((a, b) => new Date(b.date) - new Date(a.date));
    
    if (filteredExpenses.length === 0) {
        expenseList.innerHTML = '';
        emptyState.classList.remove('hidden');
        return;
    }
    
    emptyState.classList.add('hidden');
    
    expenseList.innerHTML = filteredExpenses.map(expense => `
        <div class="expense-item">
            <div class="expense-info">
                <div class="expense-name">${expense.name}</div>
                <div class="expense-details">
                    <span class="expense-category">${expense.category}</span>
                    <span>${formatDate(expense.date)}</span>
                </div>
            </div>
            <div class="expense-amount">Rp ${formatNumber(expense.amount)}</div>
            <div class="expense-actions">
                <button class="btn btn-edit" onclick="editExpense(${expense.id})">âœï¸ Edit</button>
                <button class="btn btn-delete" onclick="deleteExpense(${expense.id})">ğŸ—‘ï¸ Hapus</button>
            </div>
        </div>
    `).join('');
}

function updateSummary() {
    const total = expenses.reduce((sum, exp) => sum + exp.amount, 0);
    const count = expenses.length;
    
    totalAmountEl.textContent = `Rp ${formatNumber(total)}`;
    totalItemsEl.textContent = count;
}

function editExpense(id) {
    const expense = expenses.find(exp => exp.id === id);
    
    expenseNameInput.value = expense.name;
    expenseAmountInput.value = expense.amount;
    expenseCategoryInput.value = expense.category;
    expenseDateInput.value = expense.date;
    
    editingId = id;
    btnText.textContent = 'ğŸ’¾ Update Pengeluaran';
    
    // Scroll to form
    expenseForm.scrollIntoView({ behavior: 'smooth' });
}

function deleteExpense(id) {
    if (confirm('Yakin ingin menghapus pengeluaran ini?')) {
        expenses = expenses.filter(exp => exp.id !== id);
        saveToLocalStorage();
        renderExpenses();
        updateSummary();
    }
}

function clearAllExpenses() {
    if (expenses.length === 0) {
        alert('Tidak ada data untuk dihapus');
        return;
    }
    
    if (confirm('Yakin ingin menghapus SEMUA pengeluaran?')) {
        expenses = [];
        saveToLocalStorage();
        renderExpenses();
        updateSummary();
    }
}

// ========== LOCAL STORAGE ==========
function saveToLocalStorage() {
    localStorage.setItem('expenses', JSON.stringify(expenses));
}

function loadFromLocalStorage() {
    const stored = localStorage.getItem('expenses');
    if (stored) {
        expenses = JSON.parse(stored);
    }
}

// ========== HELPER FUNCTIONS ==========
function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

function formatDate(dateString) {
    const options = { day: 'numeric', month: 'long', year: 'numeric' };
    return new Date(dateString).toLocaleDateString('id-ID', options);
}
```

---

## ğŸ¯ Cara Menjalankan Project

1. **Buat folder** `expense-tracker`
2. **Buat 3 file**: `index.html`, `style.css`, `script.js`
3. **Copy-paste** kode di atas ke masing-masing file
4. **Buka** `index.html` dengan Live Server atau browser

---

## ğŸ’¡ Penjelasan Fitur

### **1. Local Storage**
Data disimpan di browser, tidak hilang saat refresh!

```javascript
// Simpan
localStorage.setItem('expenses', JSON.stringify(expenses));

// Load
const stored = localStorage.getItem('expenses');
expenses = JSON.parse(stored);
```

### **2. Edit Mode**
Saat edit, form berubah menjadi mode update dengan tracking `editingId`.

### **3. Filter Kategori**
Menggunakan array `.filter()` untuk menampilkan kategori tertentu.

### **4. Format Number**
Menggunakan regex untuk format Rupiah (Rp 1.000.000).

---

## ğŸš€ Tantangan Tambahan (Opsional)

**Level 1:**
- Tambahkan fitur **search** (cari berdasarkan nama)
- Tambahkan pilihan **sort** (berdasarkan jumlah atau tanggal)

**Level 2:**
- Buat **chart/grafik** pengeluaran per kategori (bisa pakai Chart.js)
- Export data ke **CSV** atau **PDF**

**Level 3:**
- Tambahkan fitur **budget** (set budget bulanan dan warning jika melebihi)
- Tampilkan **statistik** (rata-rata pengeluaran per hari/minggu)

---

## âœ… Checklist Penyelesaian Project

- [ ] HTML struktur lengkap dan semantic
- [ ] CSS responsive (bagus di mobile & desktop)
- [ ] Form validation bekerja
- [ ] CRUD lengkap (Create, Read, Update, Delete)
- [ ] Filter kategori berfungsi
- [ ] Data tersimpan di Local Storage
- [ ] Animasi smooth
- [ ] Code rapi dan terorganisir
- [ ] Tested di berbagai ukuran layar

---

## ğŸ“ Apa yang Dipelajari dari Project Ini?

- âœ… DOM Manipulation (menambah/hapus elemen)
- âœ… Event Handling (submit, click, change)
- âœ… Form Validation
- âœ… Array Methods (push, filter, map, reduce, sort)
- âœ… Local Storage API
- âœ… Responsive Design
- âœ… ES6+ JavaScript (arrow functions, template literals, dll)

---

**ğŸŠ SELAMAT! Anda sudah menyelesaikan HARI 2!**

Besok kita akan belajar **BACKEND** dengan Node.js dan membuat REST API! ğŸš€

**ğŸ’¡ Homework:**
Deploy Expense Tracker Anda ke **GitHub Pages** dan bagikan linknya!
