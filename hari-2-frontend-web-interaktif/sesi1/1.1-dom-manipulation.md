# Materi 1.1: JavaScript DOM Manipulation

## ğŸŒ³ Apa itu DOM?

**DOM** adalah singkatan dari **Document Object Model**. DOM adalah representasi struktur halaman web dalam bentuk objek yang bisa kita manipulasi dengan JavaScript.

**ğŸ’¡ Analogi:**
- **HTML** = Blueprint rumah (gambar di kertas)
- **DOM** = Rumah yang sudah jadi (bisa kita ubah pintunya, cat dindingnya, dll)
- **JavaScript** = Tukang yang bisa mengubah rumah tersebut

Ketika browser memuat halaman HTML, browser akan membuat **DOM Tree** (pohon elemen).

---

## ğŸŒ² DOM Tree Visualisasi

```html
<!DOCTYPE html>
<html>
  <head>
    <title>My Page</title>
  </head>
  <body>
    <h1>Halo</h1>
    <p>Ini paragraf</p>
  </body>
</html>
```

**DOM Tree dari HTML di atas:**
```
Document
  â””â”€â”€ html
      â”œâ”€â”€ head
      â”‚   â””â”€â”€ title
      â”‚       â””â”€â”€ "My Page"
      â””â”€â”€ body
          â”œâ”€â”€ h1
          â”‚   â””â”€â”€ "Halo"
          â””â”€â”€ p
              â””â”€â”€ "Ini paragraf"
```

Setiap kotak adalah **Node** yang bisa kita akses dan ubah dengan JavaScript!

---

## ğŸ¯ Memilih Elemen (Selecting Elements)

Sebelum mengubah elemen, kita harus "memilih" elemen tersebut terlebih dahulu.

### **1ï¸âƒ£ `getElementById()` - Pilih berdasarkan ID**

**HTML:**
```html
<h1 id="judul">Halo Dunia!</h1>
```

**JavaScript:**
```javascript
const judul = document.getElementById('judul');
console.log(judul);  // <h1 id="judul">Halo Dunia!</h1>
```

**ğŸ’¡ Catatan:**
- ID harus **unik** (hanya boleh ada 1 per halaman)
- Return **1 elemen** atau `null` jika tidak ditemukan

---

### **2ï¸âƒ£ `querySelector()` - Pilih dengan CSS Selector**

**HTML:**
```html
<h1 class="title">Judul</h1>
<p class="text">Paragraf pertama</p>
<p class="text">Paragraf kedua</p>
```

**JavaScript:**
```javascript
// Pilih elemen pertama dengan class "title"
const title = document.querySelector('.title');

// Pilih elemen pertama dengan class "text"
const firstPara = document.querySelector('.text');

// Pilih berdasarkan tag
const heading = document.querySelector('h1');

// Bisa kombinasi (CSS selector)
const mainPara = document.querySelector('div.container > p.text');
```

**ğŸ’¡ Catatan:**
- Menggunakan selector CSS yang sama seperti di CSS
- Return **elemen pertama** yang cocok
- Return `null` jika tidak ditemukan

---

### **3ï¸âƒ£ `querySelectorAll()` - Pilih SEMUA yang cocok**

**JavaScript:**
```javascript
// Pilih SEMUA paragraf dengan class "text"
const allParagraphs = document.querySelectorAll('.text');

console.log(allParagraphs);  // NodeList [p.text, p.text]
console.log(allParagraphs.length);  // 2

// Loop untuk akses satu-satu
allParagraphs.forEach(p => {
    console.log(p.textContent);
});
```

**ğŸ’¡ Catatan:**
- Return **NodeList** (mirip array)
- Bisa di-loop dengan `forEach`

---

### **ğŸ“Š Tabel Perbandingan Selector:**

| Method | Selector | Return | Contoh |
|--------|----------|--------|--------|
| `getElementById()` | ID only | 1 elemen | `getElementById('header')` |
| `querySelector()` | CSS selector | 1 elemen (pertama) | `querySelector('.btn')` |
| `querySelectorAll()` | CSS selector | NodeList (semua) | `querySelectorAll('p')` |

**ğŸ’¡ Rekomendasi:** Gunakan `querySelector()` dan `querySelectorAll()` karena lebih fleksibel!

---

## âœï¸ Mengubah Konten Elemen

### **1ï¸âƒ£ Mengubah Teks - `textContent`**

**HTML:**
```html
<h1 id="greeting">Halo</h1>
<button onclick="ubahTeks()">Ubah Teks</button>
```

**JavaScript:**
```javascript
function ubahTeks() {
    const greeting = document.getElementById('greeting');
    greeting.textContent = 'Selamat Datang!';
}
```

**Hasil:** Teks berubah dari "Halo" menjadi "Selamat Datang!"

---

### **2ï¸âƒ£ Mengubah HTML - `innerHTML`**

**JavaScript:**
```javascript
const container = document.querySelector('.container');

// Ganti dengan HTML baru
container.innerHTML = '<h2>Judul Baru</h2><p>Paragraf baru</p>';

// Tambahkan HTML
container.innerHTML += '<p>Paragraf tambahan</p>';
```

**âš ï¸ Hati-hati:**
- `innerHTML` bisa menjalankan HTML
- Jangan gunakan dengan data dari user (XSS vulnerability)
- Gunakan `textContent` untuk teks biasa

---

### **3ï¸âƒ£ Mengubah Atribut**

**HTML:**
```html
<img id="foto" src="default.jpg" alt="Foto">
```

**JavaScript:**
```javascript
const foto = document.getElementById('foto');

// Ubah atribut src
foto.src = 'new-image.jpg';

// Ubah atribut alt
foto.alt = 'Foto Baru';

// Atau pakai setAttribute
foto.setAttribute('width', '300');

// Ambil nilai atribut
console.log(foto.src);  // new-image.jpg
console.log(foto.getAttribute('alt'));  // Foto Baru
```

---

## ğŸ¨ Mengubah Style (CSS)

### **1ï¸âƒ£ Inline Style dengan `style` Property**

**HTML:**
```html
<div id="box">Kotak</div>
<button onclick="ubahWarna()">Ubah Warna</button>
```

**JavaScript:**
```javascript
function ubahWarna() {
    const box = document.getElementById('box');
    
    box.style.backgroundColor = 'blue';
    box.style.color = 'white';
    box.style.padding = '20px';
    box.style.fontSize = '24px';
    box.style.borderRadius = '10px';
}
```

**ğŸ’¡ Catatan:**
- Property CSS yang memiliki dash (`background-color`) jadi **camelCase** (`backgroundColor`)
- `font-size` â†’ `fontSize`
- `border-radius` â†’ `borderRadius`

---

### **2ï¸âƒ£ Mengubah Class dengan `classList`**

**CSS:**
```css
.active {
    background-color: green;
    color: white;
    font-weight: bold;
}

.hidden {
    display: none;
}
```

**HTML:**
```html
<button id="myBtn">Click Me</button>
```

**JavaScript:**
```javascript
const btn = document.getElementById('myBtn');

// Tambah class
btn.classList.add('active');

// Hapus class
btn.classList.remove('active');

// Toggle (tambah jika belum ada, hapus jika ada)
btn.classList.toggle('active');

// Cek apakah punya class tertentu
if (btn.classList.contains('active')) {
    console.log('Button aktif!');
}

// Replace class
btn.classList.replace('active', 'hidden');
```

**ğŸ’¡ Best Practice:** Gunakan `classList` daripada `style` untuk perubahan yang kompleks!

---

## â• Membuat & Menghapus Elemen

### **1ï¸âƒ£ Membuat Elemen Baru**

**JavaScript:**
```javascript
// 1. Buat elemen
const newParagraph = document.createElement('p');

// 2. Isi konten
newParagraph.textContent = 'Ini paragraf baru!';

// 3. (Optional) Tambah class/style
newParagraph.classList.add('highlight');

// 4. Masukkan ke DOM
document.body.appendChild(newParagraph);
```

**Atau dengan `innerHTML` (lebih cepat):**
```javascript
document.body.innerHTML += '<p class="highlight">Paragraf baru!</p>';
```

---

### **2ï¸âƒ£ Menghapus Elemen**

**HTML:**
```html
<div id="container">
    <p id="para1">Paragraf 1</p>
    <p id="para2">Paragraf 2</p>
</div>
<button onclick="hapusPara1()">Hapus Paragraf 1</button>
```

**JavaScript:**
```javascript
function hapusPara1() {
    const para1 = document.getElementById('para1');
    para1.remove();  // Cara modern
}

// Atau cara lama:
function hapusPara1Old() {
    const container = document.getElementById('container');
    const para1 = document.getElementById('para1');
    container.removeChild(para1);
}
```

---

## ğŸ¯ Contoh Project: Ubah Tema (Light/Dark Mode)

**HTML:**
```html
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Theme Switcher</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 id="title">Website Saya</h1>
        <p>Ini adalah website dengan tema yang bisa diubah!</p>
        <button id="themeBtn">ğŸŒ™ Mode Gelap</button>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
```

**CSS:**
```css
/* Default: Light Mode */
body {
    background-color: white;
    color: black;
    font-family: Arial, sans-serif;
    transition: all 0.3s ease;
}

.container {
    max-width: 600px;
    margin: 100px auto;
    padding: 30px;
    text-align: center;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #333;
    color: white;
}

/* Dark Mode */
body.dark-mode {
    background-color: #1a1a1a;
    color: white;
}

body.dark-mode button {
    background-color: white;
    color: #333;
}
```

**JavaScript:**
```javascript
const themeBtn = document.getElementById('themeBtn');
const body = document.body;

themeBtn.addEventListener('click', () => {
    // Toggle class dark-mode
    body.classList.toggle('dark-mode');
    
    // Ubah teks button
    if (body.classList.contains('dark-mode')) {
        themeBtn.textContent = 'â˜€ï¸ Mode Terang';
    } else {
        themeBtn.textContent = 'ğŸŒ™ Mode Gelap';
    }
});
```

**ğŸ‰ Hasil:** Button yang bisa toggle antara light dan dark mode!

---

## ğŸ® Contoh Project 2: Counter App

**HTML:**
```html
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Counter App</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .counter-container {
            background: white;
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        #count {
            font-size: 72px;
            font-weight: bold;
            color: #667eea;
            margin: 30px 0;
        }
        
        button {
            padding: 15px 30px;
            margin: 0 10px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s;
        }
        
        button:active {
            transform: scale(0.95);
        }
        
        #decreaseBtn {
            background-color: #e74c3c;
            color: white;
        }
        
        #resetBtn {
            background-color: #95a5a6;
            color: white;
        }
        
        #increaseBtn {
            background-color: #2ecc71;
            color: white;
        }
    </style>
</head>
<body>
    <div class="counter-container">
        <h1>Counter App</h1>
        <div id="count">0</div>
        <div>
            <button id="decreaseBtn">â– Kurang</button>
            <button id="resetBtn">ğŸ”„ Reset</button>
            <button id="increaseBtn">â• Tambah</button>
        </div>
    </div>
    
    <script>
        // Pilih elemen
        const countDisplay = document.getElementById('count');
        const decreaseBtn = document.getElementById('decreaseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const increaseBtn = document.getElementById('increaseBtn');
        
        // Variabel untuk menyimpan nilai
        let count = 0;
        
        // Fungsi update display
        function updateDisplay() {
            countDisplay.textContent = count;
            
            // Ubah warna berdasarkan nilai
            if (count > 0) {
                countDisplay.style.color = '#2ecc71';  // Hijau
            } else if (count < 0) {
                countDisplay.style.color = '#e74c3c';  // Merah
            } else {
                countDisplay.style.color = '#667eea';  // Ungu
            }
        }
        
        // Event Listeners
        increaseBtn.addEventListener('click', () => {
            count++;
            updateDisplay();
        });
        
        decreaseBtn.addEventListener('click', () => {
            count--;
            updateDisplay();
        });
        
        resetBtn.addEventListener('click', () => {
            count = 0;
            updateDisplay();
        });
    </script>
</body>
</html>
```

**ğŸ‰ Hasil:** Counter yang bisa increment, decrement, dan reset dengan perubahan warna dinamis!

---

## âœ… Latihan Praktik

### **Latihan 1: Image Switcher**
Buat button yang mengubah gambar saat diklik (toggle antara 2 gambar).

**Hint:**
```javascript
const img = document.querySelector('img');
let isImage1 = true;

btn.addEventListener('click', () => {
    if (isImage1) {
        img.src = 'image2.jpg';
    } else {
        img.src = 'image1.jpg';
    }
    isImage1 = !isImage1;
});
```

---

### **Latihan 2: Show/Hide Password**
Buat input password dengan button "Show/Hide" yang mengubah `type` antara `password` dan `text`.

---

### **Latihan 3: Random Background Color**
Buat button yang mengubah background body ke warna random saat diklik.

**Hint:**
```javascript
function randomColor() {
    const r = Math.floor(Math.random() * 256);
    const g = Math.floor(Math.random() * 256);
    const b = Math.floor(Math.random() * 256);
    return `rgb(${r}, ${g}, ${b})`;
}
```

---

## ğŸ¯ Yang Harus Dikuasai:

- âœ… Memahami konsep DOM Tree
- âœ… Memilih elemen (`getElementById`, `querySelector`, `querySelectorAll`)
- âœ… Mengubah konten (`textContent`, `innerHTML`)
- âœ… Mengubah atribut (`src`, `href`, dll)
- âœ… Mengubah style (`style` property, `classList`)
- âœ… Membuat & menghapus elemen
- âœ… Kombinasi DOM manipulation untuk membuat fitur interaktif

---

**ğŸ’¡ Tips:**
- Selalu `console.log()` untuk cek apakah elemen sudah terpilih
- Gunakan DevTools â†’ Elements untuk inspect perubahan
- `classList` lebih baik daripada `style` untuk styling kompleks
- Practice makes perfect! Buat banyak mini project ğŸš€
