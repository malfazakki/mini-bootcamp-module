# Materi 3.2: Keamanan & Environment Variables (.env)

## ğŸ›¡ï¸ Kenapa Pakai .env?
Pernah terpikir tidak, kalau kita mengunggah kode kita ke GitHub, maka **password database** kita juga ikut tersebar? Ini sangat berbahaya!

Untuk mengatasinya, kita menggunakan file `.env` (Environment Variables). 

Fungsinya:
1.  **Keamanan**: Menyimpan data sensitif (password, secret key) di luar kode utama.
2.  **Fleksibilitas**: Memudahkan ganti-ganti alamat database tanpa ubah kode.

---

## ğŸ› ï¸ Cara Menggunakan dotenv

### 1. Install Library
Di terminal, install library `dotenv`:
```bash
npm install dotenv
```

### 2. Buat File .env
Buat file baru bernama `.env` (perhatikan ada titik di depan) di folder project:

```env
DATABASE_URL=postgresql://user:password@localhost:5432/nama_db
PORT=3000
```

### 3. Hubungkan di Kode (db.js)
Gunakan `require('dotenv').config()` di bagian paling atas file kamu:

```javascript
require('dotenv').config(); // Load isi file .env
const { Client } = require('pg');

const client = new Client({
  connectionString: process.env.DATABASE_URL, // Ambil dari .env
});

client.connect()
  .then(() => console.log('Terhubung ke Database!'))
  .catch(err => console.error('Gagal konek:', err));

module.exports = client;
```

---

## âš ï¸ Aturan Penting!
**JANGAN PERNAH** mengunggah file `.env` ke GitHub. Pastikan file `.env` terdaftar di dalam file `.gitignore`.

---

## âœ… Latihan Praktik (Tugas)
1.  Install `dotenv` di project backend kamu.
2.  Pindahkan alamat database dari file `db.js` ke dalam file `.env`.
3.  Gunakan `process.env.DATABASE_URL` untuk menghubungkan database.
4.  Coba jalankan server dan pastikan koneksi tetap berhasil.

---

**ğŸ“ Setelah Sesi Ini, Kamu Sudah Bisa:**
- âœ… Menjaga keamanan data sensitif dengan `.env`.
- âœ… Menggunakan variabel lingkungan (`process.env`) di Node.js.
- âœ… Memerintah server untuk membaca konfigurasi dari file eksternal.
